# Automation
Automation this is a module which can be used to triger some specific action for event in the system. 
Below you can see automation example for user reset password:

![Create new automation](./new_automation.png)

1. Automation name - free form text to describe an action. You will see it in the list of action. Need just give you idea what action is about.
2. Event  - even based on which action will be triggered. At this point of time events are predefined by Jexia. If you would need any addiitonal, please, let us know.
3. Integration - one from list integration which you setup under Integration section. At this point of time we have SMTP integration only. 
4. Template subject - this would be email subject which user will see in his client. 
5. Template body - this is a massage which your client will get in email.
6. token - autogenerated token which you will need to change a password.
7. email - email will be taken from Projec User record. 

If you will request change password for email which is not in Project User list you will get an error.  

## How it is working
Let's say you setup Integration and Automation to catch `UMS: password reset request` for you project. Now, when your app will request user reset password, action will be triggered and email will be send to client. Client email will be taken from Project User record. Email will be looking like template what you've created during setup as well as placeholders will be changed to proper solution. We have some variables available for templates (email, token). Before sending template will be updated with real values for placeholders. 

We expect your application will be managing endpoint to generate and accept new password from client. 
As different applications has different requairements for password strengths as well as templating for page. 
From the page you can send request to Jexia with token and new password.

<CodeSwitcher :languages="{js:'JavaScript',bash:'cURL'}">
<template v-slot:js>
 
```js
// To request email with new token: 
ums.requestResetPassword('Elon@tesla.com');

// To apply newpassword
ums.resetPassword(Token, newPassword);
```

</template>
<template v-slot:bash>

``` bash
# To request email with token 
POST https://projec_id.app.jexia.com/ums/resetpassword/
{
	"email":"user@email"
}

# To request email with token 
POST https://projec_id.app.jexia.com/ums/resetpassword/token
{
	"new_password": "jexia_super"
}

```

</template>
</CodeSwitcher>
